<div class="container mt-4">
    <h2>Create New Task</h2>
    <form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
      
      <!-- Title -->
      <div class="mb-3">
        <label class="form-label">Title</label>
        <input type="text" class="form-control" formControlName="title">
        <div *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched" 
             class="text-danger">
          Title is required
        </div>
      </div>
  
      <!-- Description -->
      <div class="mb-3">
        <label class="form-label">Description</label>
        <textarea class="form-control" formControlName="description" rows="3"></textarea>
      </div>
  
      <!-- Deadline -->
      <div class="mb-3">
        <label class="form-label">Deadline</label>
        <input type="date" class="form-control" formControlName="deadline">
        <div *ngIf="taskForm.get('deadline')?.invalid && taskForm.get('deadline')?.touched" 
             class="text-danger">
          Deadline is required
        </div>
      </div>
  
      <!-- Priority -->
      <div class="mb-3">
        <label class="form-label">Priority</label>
        <select class="form-select" formControlName="priority">
          <option *ngFor="let priority of priorities" [value]="priority">
            {{ priority | titlecase }}
          </option>
        </select>
      </div>
  
      <!-- Status -->
      <div class="mb-3">
        <label class="form-label">Status</label>
        <select class="form-select" formControlName="status">
          <option *ngFor="let status of statuses" [value]="status">
            {{ status | titlecase }}
          </option>
        </select>
      </div>
  
      <!-- Assignee -->
      <div class="mb-3">
        <label class="form-label">Assign to Employee</label>
        <select class="form-select" formControlName="employeeId">
          <option value="">Unassigned</option>
          <option *ngFor="let employee of employees" [value]="employee.id">
            {{ employee.name }} ({{ employee.position }})
          </option>
        </select>
      </div>
  
      <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-secondary" 
                (click)="router.navigate(['/projects', projectId])">
          Cancel
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="taskForm.invalid || isLoading">
          <span *ngIf="isLoading" class="spinner-border spinner-border-sm"></span>
          {{ isLoading ? 'Creating...' : 'Create Task' }}
        </button>
      </div>
    </form>
  </div>