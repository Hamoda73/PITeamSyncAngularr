

<!-- Main Wrapper-->
<main class="main-wrapper">
    <div class="container-fluid">
        <div class="inner-contents">
            <div class="page-header d-flex align-items-start align-items-md-center justify-content-between flex-wrap mr-bottom-20 gap-4">
                <div class="left-part">
                    <h2 class="text-dark">Jobs</h2>
                    <p class="text-gray mb-0">Lorem ipsum dolor sit amet </p>
                </div>
                <div class="right-part d-flex align-items-center gap-2">
                    <form class="search-form w-auto" (input)="filterJobs($event)">
                        <input type="text" name="search" class="bg-white form-control" placeholder="Search">
                        <button type="submit" class="btn"><img src="/assets/admin-template/img/svg/search.svg" alt=""></button>
                    </form>
                    <div>
                        <a  [routerLink]="['/admin/job-postings/add']" class="btn btn-primary ff-heading fs-18 fw-bold py-3"><span class="fs-21"><i class="bi bi-bookmark-plus-fill"></i></span> <i class="bi bi-plus"></i> New Job</a>
                    </div>
                    <div class="filtering d-flex align-items-center gap-3 ms-3">
                        <a href="#" class="btn list-view p-0 fs-30"><i class="bi bi-list"></i></a>
                        <a href="#" class="btn grid-view p-0 fs-30 active"><i class="bi bi-grid"></i></a>
                    </div>
                </div>
            </div>

            <div class="mb-6 text-md-end">
                <!-- Classic Tab -->
                <ul class="nav nav-tabs mb-0 justify-content-start justify-content-md-end" id="pills-tab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" href="#tab-7" data-bs-toggle="tab" role="tab">ALL JOBS</a>
                    </li>
                    
                   
                </ul>
            </div>

            <div class="tab-content">
                <div class="tab-pane fade show active" id="tab-7" role="tabpanel">
                    <div class="row">
                        <!-- Loop through job postings -->
                        <div *ngFor="let job of filteredJobs" class="col-lg-4 col-md-6 mb-4">
                            <div class="card shadow-sm border-0 job-card rounded-4 p-3 position-relative h-100">
                                <img
                                    class="card-img-top rounded-3 mb-3 object-fit-cover"
                                    [src]="job.imageUrl"
                                    alt="Job Image"
                                    style="height: 180px; object-fit: cover;"
                                />
                                <div class="card-body p-0">
                                    <div class="d-flex justify-content-between align-items-start mb-2">
                                        <div>
                                            <h5 class="fw-bold text-dark mb-1">{{ job.title }}</h5>
                                            <span 
                                            class="badge" 
                                            [ngClass]="{
                                                'bg-success': job.status === 'ENABLE',
                                                'bg-danger': job.status === 'DISABLE', 
                                                'text-white': true
                                            }">
                                            {{ job.status }}
                                        </span>
                                        </div>
                                        
                                        <div class="dropdown">
                                            <a href="#" data-bs-toggle="dropdown" class="text-muted">
                                                <i class="bi bi-three-dots-vertical fs-2"></i>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-end">
                                                <a class="dropdown-item" href="#" [routerLink]="['/admin/job-postings/details/', job.id]">View</a>
                                                <a class="dropdown-item" [routerLink]="['/admin/job-postings/edit', job.id]">Edit</a>
                                                <a class="dropdown-item text-danger" href="#" (click)="job.id ? deleteJob(job.id) : null; $event.preventDefault();">Delete</a>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-muted small mb-2"><i class="bi bi-calendar-check"></i> {{ job.datePosted | date }} - <i class="bi bi-calendar-x"></i> {{ job.expirationDate | date }}</p>
                                    <p class="text-muted small mb-2"><i class="bi bi-building"></i> {{ job.department }}</p>
                                    <p class="text-muted small mb-2"><i class="bi bi-tag"></i> {{ job.category }}</p>
                                    <h6 class="text-primary fw-semibold mt-3"><i class="bi bi-currency-dollar"></i> {{ job.salary }}</h6>
                                </div>
                            </div>
                        </div>
                        <!-- End Loop -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>


<!-- CSS for the card styling -->
<style>
    .job-card {
        transition: all 0.3s ease-in-out;
        border: 1px solid #eee;
        background-color: #fff;
        height: 100%;
    }

    .job-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08);
        border-color: transparent;
    }

    .badge {
        font-size: 0.75rem;
        padding: 0.4em 0.6em;
        border-radius: 0.5rem;
    }

    .card-img-top {
        border-radius: 1rem;
        transition: all 0.3s ease-in-out;
    }

    .card-img-top:hover {
        transform: scale(1.05);
    }

    .text-muted {
        font-size: 0.875rem;
    }

    .dropdown-menu {
        min-width: 180px;
    }
</style>
