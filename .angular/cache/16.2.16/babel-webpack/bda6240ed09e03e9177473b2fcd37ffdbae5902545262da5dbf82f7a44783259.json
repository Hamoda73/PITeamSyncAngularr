{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let PresenceFormComponent = class PresenceFormComponent {\n  constructor(presenceService, employeeService, router, route) {\n    this.presenceService = presenceService;\n    this.employeeService = employeeService;\n    this.router = router;\n    this.route = route;\n    this.employees = [];\n    this.isEditMode = false;\n    this.presenceId = null;\n  }\n  ngOnInit() {\n    this.loadEmployees();\n    this.presenceId = this.route.snapshot.paramMap.get('id');\n    this.isEditMode = !!this.presenceId;\n    if (this.isEditMode && this.presenceId) {\n      this.presenceService.getPresenceById(this.presenceId).subscribe({\n        next: data => this.presence = data,\n        error: err => console.error('Erreur chargement présence:', err)\n      });\n    }\n  }\n  loadEmployees() {\n    this.employeeService.getAllEmployees().subscribe({\n      next: data => this.employees = data,\n      error: err => console.error(err)\n    });\n  }\n  onSubmit() {\n    if (this.isEditMode && this.presenceId) {\n      this.presenceService.updatePresence(this.presenceId, this.presence).subscribe({\n        next: () => this.router.navigate(['/admin/attendances']),\n        error: err => console.error('Erreur MAJ présence', err)\n      });\n    } else {\n      this.presenceService.addPresence(this.presence).subscribe({\n        next: () => this.router.navigate(['/admin/attendances']),\n        error: err => console.error('Erreur ajout présence', err)\n      });\n    }\n  }\n  goBack() {\n    this.router.navigate(['/admin/attendances']);\n  }\n};\nPresenceFormComponent = __decorate([Component({\n  selector: 'app-presence-form',\n  templateUrl: './presence-form.component.html',\n  styleUrls: ['./presence-form.component.css']\n})], PresenceFormComponent);","map":{"version":3,"names":["Component","PresenceFormComponent","constructor","presenceService","employeeService","router","route","employees","isEditMode","presenceId","ngOnInit","loadEmployees","snapshot","paramMap","get","getPresenceById","subscribe","next","data","presence","error","err","console","getAllEmployees","onSubmit","updatePresence","navigate","addPresence","goBack","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\USER\\Desktop\\OumaimaPI\\projetttttttt\\projetttttttt\\src\\app\\features\\components\\Presence\\presence-form\\presence-form.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-presence-form',\n  templateUrl: './presence-form.component.html',\n  styleUrls: ['./presence-form.component.css']\n})\nexport class PresenceFormComponent {\n\n  \n\n  employees: any[] = [];\n  isEditMode: boolean = false;\n  presenceId: string | null = null;\n\n  constructor(\n    private presenceService: PresenceService,\n    private employeeService: EmployeeService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    this.loadEmployees();\n\n    this.presenceId = this.route.snapshot.paramMap.get('id');\n    this.isEditMode = !!this.presenceId;\n\n    if (this.isEditMode && this.presenceId) {\n      this.presenceService.getPresenceById(this.presenceId).subscribe({\n        next: (data) => this.presence = data,\n        error: (err) => console.error('Erreur chargement présence:', err)\n      });\n    }\n  }\n\n  loadEmployees() {\n    this.employeeService.getAllEmployees().subscribe({\n      next: (data) => this.employees = data,\n      error: (err) => console.error(err)\n    });\n  }\n\n  onSubmit(): void {\n    if (this.isEditMode && this.presenceId) {\n      this.presenceService.updatePresence(this.presenceId, this.presence).subscribe({\n        next: () => this.router.navigate(['/admin/attendances']),\n        error: (err) => console.error('Erreur MAJ présence', err)\n      });\n    } else {\n      this.presenceService.addPresence(this.presence).subscribe({\n        next: () => this.router.navigate(['/admin/attendances']),\n        error: (err) => console.error('Erreur ajout présence', err)\n      });\n    }\n  }\n\n  goBack(): void {\n    this.router.navigate(['/admin/attendances']);\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAQhCC,YACUC,eAAgC,EAChCC,eAAgC,EAChCC,MAAc,EACdC,KAAqB;IAHrB,KAAAH,eAAe,GAAfA,eAAe;IACf,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IARf,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,UAAU,GAAY,KAAK;IAC3B,KAAAC,UAAU,GAAkB,IAAI;EAO7B;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;IAEpB,IAAI,CAACF,UAAU,GAAG,IAAI,CAACH,KAAK,CAACM,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACxD,IAAI,CAACN,UAAU,GAAG,CAAC,CAAC,IAAI,CAACC,UAAU;IAEnC,IAAI,IAAI,CAACD,UAAU,IAAI,IAAI,CAACC,UAAU,EAAE;MACtC,IAAI,CAACN,eAAe,CAACY,eAAe,CAAC,IAAI,CAACN,UAAU,CAAC,CAACO,SAAS,CAAC;QAC9DC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACC,QAAQ,GAAGD,IAAI;QACpCE,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,6BAA6B,EAAEC,GAAG;OACjE,CAAC;;EAEN;EAEAV,aAAaA,CAAA;IACX,IAAI,CAACP,eAAe,CAACmB,eAAe,EAAE,CAACP,SAAS,CAAC;MAC/CC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACX,SAAS,GAAGW,IAAI;MACrCE,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAACC,GAAG;KAClC,CAAC;EACJ;EAEAG,QAAQA,CAAA;IACN,IAAI,IAAI,CAAChB,UAAU,IAAI,IAAI,CAACC,UAAU,EAAE;MACtC,IAAI,CAACN,eAAe,CAACsB,cAAc,CAAC,IAAI,CAAChB,UAAU,EAAE,IAAI,CAACU,QAAQ,CAAC,CAACH,SAAS,CAAC;QAC5EC,IAAI,EAAEA,CAAA,KAAM,IAAI,CAACZ,MAAM,CAACqB,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC;QACxDN,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,qBAAqB,EAAEC,GAAG;OACzD,CAAC;KACH,MAAM;MACL,IAAI,CAAClB,eAAe,CAACwB,WAAW,CAAC,IAAI,CAACR,QAAQ,CAAC,CAACH,SAAS,CAAC;QACxDC,IAAI,EAAEA,CAAA,KAAM,IAAI,CAACZ,MAAM,CAACqB,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC;QACxDN,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,uBAAuB,EAAEC,GAAG;OAC3D,CAAC;;EAEN;EAEAO,MAAMA,CAAA;IACJ,IAAI,CAACvB,MAAM,CAACqB,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC;EAC9C;CACD;AArDYzB,qBAAqB,GAAA4B,UAAA,EALjC7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW/B,qBAAqB,CAqDjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}