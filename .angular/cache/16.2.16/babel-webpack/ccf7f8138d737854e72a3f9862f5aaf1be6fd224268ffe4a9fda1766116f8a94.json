{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/core/services/request.service\";\nimport * as i3 from \"@angular/router\";\nexport class RequestformComponent {\n  constructor(fb, requestService, router, route) {\n    this.fb = fb;\n    this.requestService = requestService;\n    this.router = router;\n    this.route = route;\n    this.form = this.fb.group({\n      type: ['', Validators.required],\n      employeeId: ['', Validators.required],\n      startDate: ['', Validators.required],\n      endDate: ['', Validators.required],\n      justification: ['']\n    });\n    this.route.paramMap.subscribe(params => {\n      this.requestId = params.get('id');\n      if (this.requestId) {\n        this.requestService.getRequestById(this.requestId).subscribe(request => {\n          this.form.patchValue(request);\n        });\n      }\n    });\n  }\n  submitRequest() {\n    if (this.form.valid) {\n      if (this.requestId) {\n        // Mode édition\n        this.requestService.updateRequest(this.requestId, this.form.value).subscribe(() => {\n          this.router.navigate(['/user/myrequests'], {\n            queryParams: {\n              employeeId: this.form.value.employeeId\n            }\n          });\n        });\n      } else {\n        // Nouvelle requête\n        this.requestService.createRequest(this.form.value).subscribe(() => {\n          this.router.navigate(['/user/myrequests'], {\n            queryParams: {\n              employeeId: this.form.value.employeeId\n            }\n          });\n        });\n      }\n    } else {\n      alert(\"Merci de remplir tous les champs requis.\");\n    }\n  }\n  static {\n    this.ɵfac = function RequestformComponent_Factory(t) {\n      return new (t || RequestformComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.RequestService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RequestformComponent,\n      selectors: [[\"app-requestform\"]],\n      decls: 51,\n      vars: 2,\n      consts: [[1, \"main\"], [1, \"section-box\"], [1, \"box-head-single\"], [1, \"container\"], [1, \"breadcrumbs\"], [\"href\", \"#\"], [1, \"card-body\", \"pt-3\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-lg-6\"], [1, \"form-group\"], [1, \"form-label\"], [\"formControlName\", \"type\", \"required\", \"\", 1, \"form-control\"], [\"value\", \"\", \"disabled\", \"\"], [\"value\", \"Sick Leave\"], [\"value\", \"Paid Leave\"], [\"value\", \"Unpaid Leave\"], [\"type\", \"text\", \"formControlName\", \"employeeId\", \"placeholder\", \"Enter employee ID\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"date\", \"formControlName\", \"startDate\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"date\", \"formControlName\", \"endDate\", \"required\", \"\", 1, \"form-control\"], [1, \"col-lg-12\"], [\"formControlName\", \"justification\", \"placeholder\", \"Enter justification\", \"rows\", \"3\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"]],\n      template: function RequestformComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\");\n          i0.ɵɵtext(5, \"Leave Request Form\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"ul\", 4)(7, \"li\")(8, \"a\", 5);\n          i0.ɵɵtext(9, \"Home\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"li\");\n          i0.ɵɵtext(11, \"Leave Request\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(12, \"div\", 6)(13, \"form\", 7);\n          i0.ɵɵlistener(\"ngSubmit\", function RequestformComponent_Template_form_ngSubmit_13_listener() {\n            return ctx.submitRequest();\n          });\n          i0.ɵɵelementStart(14, \"div\", 8)(15, \"div\", 9)(16, \"div\", 10)(17, \"label\", 11);\n          i0.ɵɵtext(18, \"Leave Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"select\", 12)(20, \"option\", 13);\n          i0.ɵɵtext(21, \"Select leave type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"option\", 14);\n          i0.ɵɵtext(23, \"Sick Leave\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"option\", 15);\n          i0.ɵɵtext(25, \"Paid Leave\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"option\", 16);\n          i0.ɵɵtext(27, \"Unpaid Leave\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(28, \"div\", 9)(29, \"div\", 10)(30, \"label\", 11);\n          i0.ɵɵtext(31, \"Employee ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(32, \"input\", 17);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(33, \"div\", 9)(34, \"div\", 10)(35, \"label\", 11);\n          i0.ɵɵtext(36, \"Start Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"input\", 18);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(38, \"div\", 9)(39, \"div\", 10)(40, \"label\", 11);\n          i0.ɵɵtext(41, \"End Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(42, \"input\", 19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(43, \"div\", 20)(44, \"div\", 10)(45, \"label\", 11);\n          i0.ɵɵtext(46, \"Justification\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(47, \"textarea\", 21);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(48, \"div\", 10)(49, \"button\", 22);\n          i0.ɵɵtext(50, \" Submit Request \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(36);\n          i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n        }\n      },\n      dependencies: [i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","RequestformComponent","constructor","fb","requestService","router","route","form","group","type","required","employeeId","startDate","endDate","justification","paramMap","subscribe","params","requestId","get","getRequestById","request","patchValue","submitRequest","valid","updateRequest","value","navigate","queryParams","createRequest","alert","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","RequestService","i3","Router","ActivatedRoute","selectors","decls","vars","consts","template","RequestformComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","RequestformComponent_Template_form_ngSubmit_13_listener","ɵɵelement","ɵɵadvance","ɵɵproperty","invalid"],"sources":["C:\\Users\\USER\\Desktop\\OumaimaPI\\projetttttttt\\projetttttttt\\src\\app\\features\\components\\user\\request\\requestform\\requestform.component.ts","C:\\Users\\USER\\Desktop\\OumaimaPI\\projetttttttt\\projetttttttt\\src\\app\\features\\components\\user\\request\\requestform\\requestform.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RequestService } from 'src/app/core/services/request.service';\n\n@Component({\n  selector: 'app-requestform',\n  templateUrl: './requestform.component.html',\n  styleUrls: ['./requestform.component.css']\n})\nexport class RequestformComponent {\n\n  form = this.fb.group({\n    type: ['', Validators.required],\n    employeeId: ['', Validators.required],\n    startDate: ['', Validators.required],\n    endDate: ['', Validators.required],\n    justification: ['']\n  });\n\n  constructor(\n    private fb: FormBuilder,\n    private requestService: RequestService,\n    private router: Router,\n    private route: ActivatedRoute\n  \n  ) {\n    this.route.paramMap.subscribe(params => {\n      this.requestId = params.get('id');\n      if (this.requestId) {\n        this.requestService.getRequestById(this.requestId).subscribe(request => {\n          this.form.patchValue(request);\n        });\n      }\n    });\n  }\n\n  submitRequest() {\n    if (this.form.valid) {\n      if (this.requestId) {\n        // Mode édition\n        this.requestService.updateRequest(this.requestId, this.form.value).subscribe(() => {\n          this.router.navigate(['/user/myrequests'], {\n            queryParams: { employeeId: this.form.value.employeeId }\n          });\n        });\n      } else {\n        // Nouvelle requête\n        this.requestService.createRequest(this.form.value).subscribe(() => {\n          this.router.navigate(['/user/myrequests'], {\n            queryParams: { employeeId: this.form.value.employeeId }\n          });\n        });\n      }\n    } else {\n      alert(\"Merci de remplir tous les champs requis.\");\n    }\n  }\n  \n  \n  \n\n}\n","<main class=\"main\">\n  <section class=\"section-box\">\n    <div class=\"box-head-single\">\n      <div class=\"container\">\n        <h3>Leave Request Form</h3>\n        <ul class=\"breadcrumbs\">\n          <li><a href=\"#\">Home</a></li>\n          <li>Leave Request</li>\n        </ul>\n      </div>\n    </div>\n  </section>\n\n  <!-- Formulaire stylisé -->\n  <div class=\"card-body pt-3\">\n    <form [formGroup]=\"form\" (ngSubmit)=\"submitRequest()\">\n      <div class=\"row\">\n        <div class=\"col-lg-6\">\n          <div class=\"form-group\">\n            <label class=\"form-label\">Leave Type</label>\n            <select class=\"form-control\" formControlName=\"type\" required>\n              <option value=\"\" disabled>Select leave type</option>\n              <option value=\"Sick Leave\">Sick Leave</option>\n              <option value=\"Paid Leave\">Paid Leave</option>\n              <option value=\"Unpaid Leave\">Unpaid Leave</option>\n            </select>\n          </div>\n        </div>\n\n        <div class=\"col-lg-6\">\n          <div class=\"form-group\">\n            <label class=\"form-label\">Employee ID</label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              formControlName=\"employeeId\"\n              placeholder=\"Enter employee ID\"\n              required\n            />\n          </div>\n        </div>\n\n        <div class=\"col-lg-6\">\n          <div class=\"form-group\">\n            <label class=\"form-label\">Start Date</label>\n            <input\n              type=\"date\"\n              class=\"form-control\"\n              formControlName=\"startDate\"\n              required\n            />\n          </div>\n        </div>\n\n        <div class=\"col-lg-6\">\n          <div class=\"form-group\">\n            <label class=\"form-label\">End Date</label>\n            <input\n              type=\"date\"\n              class=\"form-control\"\n              formControlName=\"endDate\"\n              required\n            />\n          </div>\n        </div>\n\n        <div class=\"col-lg-12\">\n          <div class=\"form-group\">\n            <label class=\"form-label\">Justification</label>\n            <textarea\n              class=\"form-control\"\n              formControlName=\"justification\"\n              placeholder=\"Enter justification\"\n              rows=\"3\"\n            ></textarea>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"form-group\">\n        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"form.invalid\">\n          Submit Request\n        </button>\n      </div>\n    </form>\n  </div>\n</main>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}